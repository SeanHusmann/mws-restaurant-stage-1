<!DOCTYPE html>
<html lang="en">

    <head>
				<meta charset="utf-8">	
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="theme-color" content="#aa0076">
        <!-- Normalize.css for better cross-browser consistency -->
        <link rel="stylesheet" src="//normalize-css.googlecode.com/svn/trunk/normalize.css" />
        <!-- Main CSS file -->
        <link rel="stylesheet" href="css/styles.css">
        <link rel="manifest" href="manifest.json">
        <title>Restaurant Info</title>
        <!--<style>
          *{font-size:16px}body,p,td,th{font-family:Arial,Helvetica,sans-serif;color:#333;line-height:1.5}body{background-color:#fdfdfd;width:100%;margin:0;position:relative;--header-height:61px;--filter-options-height:48px}a{color:orange;text-decoration:none}a:focus,a:hover{color:#3397db;outline:2px solid orange;text-decoration:none}a img{border:none 0 #fff}h1,h2,h3,h4,h5,h6{font-family:Arial,Helvetica,sans-serif;margin:0 0 20px}article,aside,canvas,details,figcaption,figure,footer,header,hgroup,menu,nav,section{display:block}.main-content{background-color:#f3f3f3;min-height:100%}.footer{box-sizing:border-box;background-color:#413645;color:#ccc;letter-spacing:2px;padding:30px;text-align:center;text-transform:uppercase}body>header{background-color:#252831}nav{box-sizing:border-box;width:100%}body>header h1{text-align:center;margin:auto;padding:15px 5px}body>header h1 a{color:#fff;font-size:14pt;font-weight:200;letter-spacing:5px;text-transform:uppercase}body>header h1 a:focus,body>header h1 a:hover{color:#ff9d00;outline:2px solid #fff}.breadcrumb ol{text-align:left;padding:10px 20px 10px;list-style:none;background-color:#eee;font-size:17px;margin:0;border-bottom:1px solid #c1c1c1}.breadcrumb li{display:inline}.breadcrumb li+li:before{padding:8px;color:#000;content:"/\00a0"}.breadcrumb li a{color:#0000d1;text-decoration:underline}.breadcrumb li a:focus,.breadcrumb li a:hover{color:#ff9d00;text-decoration:underline;outline:0}.breadcrumb li a:focus{outline:2px solid #00f}.map-container{position:relative;height:40vh}.map{position:absolute;left:0;top:0;display:none;height:40vh;width:100%;background-color:rgba(0,0,255,);border-bottom:1px solid #c1c1c1;box-sizing:border-box}.map,.map>div{background-color:transparent!important}.map-overlay{position:absolute;left:0;top:0;width:100%;height:40vh;background-color:rgba(0,0,0,.3);display:flex;justify-content:center;align-items:center;box-sizing:border-box;padding:20px;text-align:center;line-height:25px;color:#fff;font-weight:700;font-family:sans-serif;font-size:18px;text-shadow:0 0 10px #000;border:none}.filter-options{box-sizing:border-box;width:100%;min-height:var(--filter-options-height);background-color:#53a2ff;display:grid;grid-template-rows:48px;font-size:16px}label[for=show-filters]{color:#fff;font-size:16px;font-weight:700;text-align:center;background-color:#8153ff;cursor:pointer;display:flex;align-items:center;justify-content:center;box-shadow:inset 0 5px 20px -2px,inset 0 -3px 20px -5px #000;text-shadow:0 0 3px #000;border-bottom:1px solid #000}#show-filters:focus+label[for=show-filters],label[for=show-filters]:hover{background-color:#ff9d00}#show-filters:checked+label[for=show-filters]{color:transparent;background-color:#643dad;box-shadow:inset 0 5px 20px -1px #000,inset 0 -3px 20px -5px #fff;text-shadow:0 3px #c1c1c1}#show-filters:checked+label[for=show-filters]::selection{color:transparent}#show-filters{position:absolute;left:-9999px}#show-filters~:nth-child(n+3){display:none}#show-filters:checked~:nth-child(n+3){display:block}label[for=show-filters]~label{display:flex;align-items:center;justify-content:center;font-weight:700;padding:10px 19px;color:#fff;background-color:#8f53ff}.filter-options select{background-color:#fff;border:1px solid #fff;font-family:Arial,sans-serif;font-size:16px;letter-spacing:0;padding:10px 15px}.filter-options select:focus,.filter-options select:hover{background-color:orange;color:#fff;border:2px solid #fff;font-size:16px;font-weight:700}.filter-options option{font-size:20px;letter-spacing:0;background-color:#fff;color:#000}.restaurants-list{background-color:#d8d8d8;list-style:outside none none;margin:0;padding:0 0 60px;text-align:center;display:grid;grid-gap:20px;border-top:1px solid #000}.restaurants-list li{box-sizing:border-box;display:grid;grid-template-rows:auto auto 1fr auto;min-height:380px;padding:15px 15px 25px;border:1px solid #ccc;width:100%;background-color:#fff;font-family:Arial,sans-serif;text-align:left;box-shadow:0 5px 10px}.restaurant-header{position:relative;margin-bottom:15px;border:1px solid #000;border-radius:10px}.restaurants-list .restaurant-img{background-color:#ccc;display:block;margin:0;width:100%;border-radius:10px 10px 0 0}.restaurants-list li h2{box-sizing:border-box;color:#fff;text-shadow:0 2px 1px #000;font-family:Arial,sans-serif;font-size:14pt;font-weight:200;letter-spacing:0;line-height:1.3;padding:15px 10px 15px;margin:0;text-transform:uppercase;background-color:#aa0076;text-align:center;border-top:1px solid #000;border-radius:0 0 10px 10px}.restaurants-list p{margin:0;font-size:11pt;padding:0 15px;margin-bottom:10px}.restaurants-list p:first-of-type{font-size:17px;font-weight:700;margin-bottom:10px}.restaurants-list li a{background-color:#aa0076;background-image:linear-gradient(to top,transparent,#ff00b0);border-bottom:3px solid #55003b;box-sizing:border-box;width:100%;color:#fff;display:inline-block;font-size:10pt;margin:15px 0 0;padding:8px 30px 10px;text-align:center;text-decoration:none;text-transform:uppercase}.restaurants-list li a:visited{background-color:#000;color:#ddd}.restaurants-list li a:focus,.restaurants-list li a:hover{background-color:#ff9d00;background-image:none;color:#fff;border-bottom:3px solid #b97200;outline:0}.restaurants-list li a:active{background-color:#6c004b;background-image:none;color:transparent;text-shadow:0 1px #ddd;transform:translateY(2px);border:1px solid #000;box-shadow:inset 0 2px 5px #000,inset 0 -1px 3px -2px #000}.inside header{position:fixed;top:0;width:100%;z-index:1000}.inside .main-content{margin-top:103px;display:grid;grid-template-columns:1fr 1fr}.inside .map-container{width:100%;height:40vh;grid-column:1/3}.inside .map{background-color:#ccc;height:100%;width:100%}.inside .footer{width:100%}.inside .restaurant-name{background-color:#aa0076;color:#fff;font-family:Arial,sans-serif;font-size:18pt;letter-spacing:0;margin:0;text-transform:uppercase;line-height:1.1;text-align:center;padding:10px;border:1px solid #5f0042;border-bottom:none}.inside .restaurant-img{box-sizing:border-box;display:block;width:100%;margin:0;padding:0;border:1px solid #000;border-top:1px solid #5f0042;border-bottom:none}.inside .restaurant-address{font-size:14pt;margin:20px 0;padding:16px;text-align:center}.restaurant-cuisine{background-color:#333;color:#fff;font-size:12pt;font-weight:300;letter-spacing:10px;margin:0;padding:5px;text-align:center;text-transform:uppercase;border:1px solid #000;border-top:none}.restaurant-container,.reviews-container{border-bottom:1px solid #d9d9d9;border-top:1px solid #fff;padding:35px 35px 35px;grid-column:1/3}.reviews-container{padding:30px 35px 80px}.reviews-container h3{background-color:#aa0076;color:#fff;font-family:Arial,sans-serif;font-size:18pt;letter-spacing:0;margin-bottom:45px;line-height:1.1;text-align:center;padding:15px;box-sizing:border-box;border:1px solid #5f0042;margin-left:-35px;margin-right:-35px}.reviews-list{display:grid;grid-gap:40px;margin:0;padding:0}.reviews-list li{background-color:#fff;display:grid;grid-template-columns:1fr 1fr;grid-template-rows:auto auto 1fr;list-style-type:none;box-shadow:0 5px 10px;border-radius:30px;border-bottom-left-radius:0}.review-date,.reviewer-name{background-color:#000;color:#fff;margin:0;padding:20px}.review-date{text-align:right;display:flex;align-items:center;justify-content:flex-end;border-top-right-radius:30px;padding-right:30px;color:#e5e5e5}.reviewer-name{display:flex;align-items:center;justify-content:flex-start;padding-left:30px;font-weight:700;font-size:20px;border-top-left-radius:30px}.review-rating{background-color:#8153ff;color:#fff;font-weight:700;text-transform:uppercase;padding:9px;text-align:center;margin:0;border-top:1px solid #000;border-bottom:1px solid #000;border:1px solid #000}.review-text{padding:25px;padding-top:0;padding-bottom:10px;font-size:18px}.reviews-list li p:nth-child(n+3){grid-column:1/3}.reviews-list li:last-child{margin-bottom:0}.reviews-list::after{display:block;content:"THE END";text-align:center;font-size:12pt;box-sizing:border-box;padding-top:50px}.restaurant-hours{background-color:#fff;border-collapse:collapse;border:1px solid #000;font-size:16px;margin:auto}.restaurant-hours th{color:#fff;background-color:#000;text-align:left;padding:5px 15px;border-bottom:1px solid #fff}.restaurant-hours tr:last-child th{border-bottom:1px solid #000}.restaurant-hours td{color:#000;padding:0 15px;border:1px solid #000}@media (min-width:500px){.restaurants-list{grid-template-columns:1fr 1fr;padding:20px;padding-bottom:60px}.map{display:block}.map-overlay,.map-preview{display:none}}@media (min-width:615px){.inside .map-container{grid-column:2/3;box-sizing:border-box;padding:35px;padding-left:0;height:100%;border-bottom:1px solid #d9d9d9}.inside .map{box-sizing:border-box;border:1px solid #000}.inside .restaurant-container{grid-row:1/2;grid-column:1/2}.inside .reviews-container{grid-column:1/3}}@media (min-width:750px){.reviews-list{grid-template-columns:1fr 1fr}.reviews-list::after{display:flex;justify-content:center;padding:0;align-items:center}}@media (min-width:800px){.restaurants-list{grid-template-columns:1fr 1fr 1fr}}@media (min-width:1024px){.restaurants-list{grid-template-columns:repeat(auto-fill,300px);justify-content:space-evenly}@media (min-width:1190px){.inside .main-content{grid-template-columns:1fr 1fr 1fr}.inside .restaurant-container{grid-column:1/3;display:grid;grid-template-columns:1fr 1fr;grid-gap:35px;align-items:center}.inside .restaurant-address{box-sizing:border-box;margin:0;padding:12px 12px;border:1px solid #000;border-bottom:1px solid #fff;border-right:none;background-color:#000;color:#fff;font-weight:700;display:flex;justify-content:center;align-items:center}.inside .restaurant-info{display:grid;grid-template-rows:1fr auto;height:100%}.inside .restaurant-hours,.inside .restaurant-hours tr:first-child td{border-top:none}.inside .restaurant-hours{width:100%}.inside .map-container{grid-column:3/4}.inside .reviews-container{grid-column:1/4}}@media (min-width:1400px){.inside .main-content{grid-template-columns:922px 1fr}.inside .restaurant-container{grid-column:1/2}.inside .map-container{grid-column:2/3}.inside .reviews-list{grid-template-columns:repeat(auto-fit,410px);justify-content:space-evenly}}}
      </style>-->
    </head>

    <body class="inside">
        <!-- Beginning header -->
        <header>
            <h1><a href="/">Restaurant Reviews</a></h1>
            <!-- Beginning nav -->
            <!-- Beginning breadcrumb -->
            <nav aria-label="Breadcrumb" class="breadcrumb">
                <ol>
                    <li><a href="/">Home</a></li>
                </ol>
            </nav>
            <!-- End breadcrumb -->
            <!-- End nav -->
        </header>
        <!-- End header -->

        <!-- Beginning main -->
        <main class="main-content">  
            <!-- Beginning map -->
            <section class="map-container">
								<img class="map-preview" alt="Non-Interactive Google Maps Preview Image">
                <div class="map" role="application" aria-label="Google Maps with Pins at Restaurant Locations"></div>
								<button class="map-overlay">Tap to Load Interactive Map</button>
            </section>
            <!-- End map -->
            
            <!-- Beginning restaurant -->
            <section class="restaurant-container">
                <section class="restaurant-card">
                    <h2 class="restaurant-name"></h2>
                    <img class="restaurant-img">
                    <h3 class="restaurant-cuisine"></h3>
                </section>
                <section class="restaurant-info">
                    <p class="restaurant-address"></p>
                    <table class="restaurant-hours"></table>
                </section>
            </section>
            <!-- end restaurant -->
            
            <!-- Beginning reviews -->
            <section class="reviews-container">
                <ul class="reviews-list"></ul>
            </section>
            <!-- End reviews -->   
        </main>
        <!-- End main -->

        <!-- Beginning footer -->
        <footer class="footer">
            Copyright (c) 2017 <a href="/"><strong>Restaurant Reviews</strong></a> All Rights Reserved.
        </footer>
        <!-- End footer -->

        <!-- Beginning scripts -->
				<!-- Google Maps -->
				<script id="gmaps-script-element" async defer></script>
        <!-- Database helpers -->
    		<script src="js/libraries/idb.js"></script>
        <script src="js/dbhelper.js"></script>
        <!-- Main javascript file -->
    		<script src="js/restaurant_info.js"></script>
			
       	<!-- IDB Promised -->
        <!--<script>
					!function(){function e(e){return new Promise(function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function t(t,n,o){var r,i=new Promise(function(i,u){e(r=t[n].apply(t,o)).then(i,u)});return i.request=r,i}function n(e,t,n){n.forEach(function(n){Object.defineProperty(e.prototype,n,{get:function(){return this[t][n]},set:function(e){this[t][n]=e}})})}function o(e,n,o,r){r.forEach(function(r){r in o.prototype&&(e.prototype[r]=function(){return t(this[n],r,arguments)})})}function r(e,t,n,o){o.forEach(function(o){o in n.prototype&&(e.prototype[o]=function(){return this[t][o].apply(this[t],arguments)})})}function i(e,n,o,r){r.forEach(function(r){r in o.prototype&&(e.prototype[r]=function(){return function(e,n,o){var r=t(e,n,o);return r.then(function(e){if(e)return new c(e,r.request)})}(this[n],r,arguments)})})}function u(e){this._index=e}function c(e,t){this._cursor=e,this._request=t}function s(e){this._store=e}function a(e){this._tx=e,this.complete=new Promise(function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}})}function p(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new a(n)}function f(e){this._db=e}n(u,"_index",["name","keyPath","multiEntry","unique"]),o(u,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),i(u,"_index",IDBIndex,["openCursor","openKeyCursor"]),n(c,"_cursor",["direction","key","primaryKey","value"]),o(c,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(t){t in IDBCursor.prototype&&(c.prototype[t]=function(){var n=this,o=arguments;return Promise.resolve().then(function(){return n._cursor[t].apply(n._cursor,o),e(n._request).then(function(e){if(e)return new c(e,n._request)})})})}),s.prototype.createIndex=function(){return new u(this._store.createIndex.apply(this._store,arguments))},s.prototype.index=function(){return new u(this._store.index.apply(this._store,arguments))},n(s,"_store",["name","keyPath","indexNames","autoIncrement"]),o(s,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),i(s,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),r(s,"_store",IDBObjectStore,["deleteIndex"]),a.prototype.objectStore=function(){return new s(this._tx.objectStore.apply(this._tx,arguments))},n(a,"_tx",["objectStoreNames","mode"]),r(a,"_tx",IDBTransaction,["abort"]),p.prototype.createObjectStore=function(){return new s(this._db.createObjectStore.apply(this._db,arguments))},n(p,"_db",["name","version","objectStoreNames"]),r(p,"_db",IDBDatabase,["deleteObjectStore","close"]),f.prototype.transaction=function(){return new a(this._db.transaction.apply(this._db,arguments))},n(f,"_db",["name","version","objectStoreNames"]),r(f,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(e){[s,u].forEach(function(t){t.prototype[e.replace("open","iterate")]=function(){var t=function(e){return Array.prototype.slice.call(e)}(arguments),n=t[t.length-1],o=this._store||this._index,r=o[e].apply(o,t.slice(0,-1));r.onsuccess=function(){n(r.result)}}})}),[u,s].forEach(function(e){e.prototype.getAll||(e.prototype.getAll=function(e,t){var n=this,o=[];return new Promise(function(r){n.iterateCursor(e,function(e){e?(o.push(e.value),void 0===t||o.length!=t?e.continue():r(o)):r(o)})})})});var d={open:function(e,n,o){var r=t(indexedDB,"open",[e,n]),i=r.request;return i.onupgradeneeded=function(e){o&&o(new p(i.result,e.oldVersion,i.transaction))},r.then(function(e){return new f(e)})},delete:function(e){return t(indexedDB,"deleteDatabase",[e])}};"undefined"!=typeof module?(module.exports=d,module.exports.default=module.exports):self.idb=d}();
        </script> -->
				<!-- DB Helper -->
        <!--<script>
					function _classCallCheck(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),indexDBPromise=idb.open("Restaurant Reviews",1,function(t){switch(t.oldVersion){case 0:t.createObjectStore("restaurants",{keyPath:"id"})}}),DBHelper=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"fetchRestaurants",value:function(n){indexDBPromise.then(function(e){var r=e.transaction("restaurants","readwrite").objectStore("restaurants");r.count().then(function(u){u>0?(r=e.transaction("restaurants","readwrite").objectStore("restaurants")).getAll().then(function(t){console.log("fetching restaurants from idb"),n(null,t)}):(console.log("fetching restaurants from network"),fetch(t.DATABASE_URL).then(function(t){if(t.ok)t.json().then(function(t){r=e.transaction("restaurants","readwrite").objectStore("restaurants"),t.forEach(function(t){r.put(t)}),n(null,t)});else{var u="Request failed. Returned status of "+t.status;n(u,null)}}))})})}},{key:"fetchRestaurantById",value:function(n,e){t.fetchRestaurants(function(t,r){if(t)e(t,null);else{var u=r.find(function(t){return t.id==n});u?e(null,u):e("Restaurant does not exist",null)}})}},{key:"fetchRestaurantByCuisine",value:function(n,e){t.fetchRestaurants(function(t,r){if(t)e(t,null);else{var u=r.filter(function(t){return t.cuisine_type==n});e(null,u)}})}},{key:"fetchRestaurantByNeighborhood",value:function(n,e){t.fetchRestaurants(function(t,r){if(t)e(t,null);else{var u=r.filter(function(t){return t.neighborhood==n});e(null,u)}})}},{key:"fetchRestaurantByCuisineAndNeighborhood",value:function(n,e,r){t.fetchRestaurants(function(t,u){if(t)r(t,null);else{var a=u;"all"!=n&&(a=a.filter(function(t){return t.cuisine_type==n})),"all"!=e&&(a=a.filter(function(t){return t.neighborhood==e})),r(null,a)}})}},{key:"fetchNeighborhoods",value:function(n){t.fetchRestaurants(function(t,e){t?n(t,null):function(){var t=e.map(function(t,n){return e[n].neighborhood}),r=t.filter(function(n,e){return t.indexOf(n)==e});n(null,r)}()})}},{key:"fetchCuisines",value:function(n){t.fetchRestaurants(function(t,e){t?n(t,null):function(){var t=e.map(function(t,n){return e[n].cuisine_type}),r=t.filter(function(n,e){return t.indexOf(n)==e});n(null,r)}()})}},{key:"urlForRestaurant",value:function(t){return"./restaurant.html?id="+t.id}},{key:"imageUrlForRestaurant",value:function(t){return"/img/"+t.photograph}},{key:"mapMarkerForRestaurant",value:function(n,e){return new google.maps.Marker({position:n.latlng,title:n.name,url:t.urlForRestaurant(n),map:e,animation:google.maps.Animation.DROP})}},{key:"DATABASE_URL",get:function(){return"http://localhost:1337/restaurants"}}]),t}();
        </script>-->
				<!-- Restaurant Info -->
        <!--<script>
            var map,restaurant=void 0;registerServiceWorker=function(){navigator.serviceWorker&&navigator.serviceWorker.register("/sw.js")},registerServiceWorker(),window.initMap=function(){self.map=new google.maps.Map(document.getElementsByClassName("map")[0],{zoom:16,center:restaurant.latlng,scrollwheel:!1}),self.restaurant&&DBHelper.mapMarkerForRestaurant(self.restaurant,self.map)},fetchRestaurantFromURL=function(e){if(self.restaurant)e(null,self.restaurant);else{var a=getParameterByName("id");a?DBHelper.fetchRestaurantById(a,function(a,t){self.restaurant=t,t?(fillRestaurantHTML(),e(null,t)):console.error(a)}):(error="No restaurant id in URL",e(error,null))}},fillRestaurantHTML=function(){var e=arguments.length<=0||void 0===arguments[0]?self.restaurant:arguments[0];document.getElementsByClassName("restaurant-name")[0].innerHTML=e.name;document.getElementsByClassName("restaurant-address")[0].innerHTML=e.address;var a=document.getElementsByClassName("restaurant-img")[0];a.className="restaurant-img";var t=""+["180w","304w","428w","552w","676w","800w"].map(function(a){return"img/"+e.id+"-"+a+".jpg "+a}).join(", ");a.setAttribute("srcset",t),a.setAttribute("sizes","(max-width: 614px) calc(100vw - 2 * 36px), (max-width: 1189px) calc((100vw - 3 * 35px - 2 * 2px) / 2), (max-width: 1399px) calc((100vw - 4 * 35px - 3 * 2px) / 3), (min-width: 1400px) 409px"),a.src="img/"+e.id+"-552w.jpg",a.alt=e.name+" Restaurant";document.getElementsByClassName("restaurant-cuisine")[0].innerHTML=e.cuisine_type,e.operating_hours&&fillRestaurantHoursHTML(),fillReviewsHTML()},fillRestaurantHoursHTML=function(){var e=arguments.length<=0||void 0===arguments[0]?self.restaurant.operating_hours:arguments[0],a=document.getElementsByClassName("restaurant-hours")[0];for(var t in e){var r=document.createElement("tr"),n=document.createElement("th");n.innerHTML=t,r.appendChild(n);var l=document.createElement("td");l.innerHTML=e[t],r.appendChild(l),a.appendChild(r)}},fillReviewsHTML=function(){var e=arguments.length<=0||void 0===arguments[0]?self.restaurant.reviews:arguments[0],a=document.getElementsByClassName("reviews-container")[0],t=document.createElement("h3");if(t.innerHTML="Reviews",a.appendChild(t),!e){var r=document.createElement("p");return r.innerHTML="No reviews yet!",void a.appendChild(r)}var n=document.getElementsByClassName("reviews-list")[0];e.forEach(function(e){n.appendChild(createReviewHTML(e))}),a.appendChild(n)},createReviewHTML=function(e){var a=document.createElement("li"),t=document.createElement("p");t.innerHTML=e.name,t.className="reviewer-name",a.appendChild(t);var r=document.createElement("p");r.innerHTML=e.date,r.className="review-date",a.appendChild(r);var n=document.createElement("p");n.innerHTML="Rating: "+e.rating,n.className="review-rating",a.appendChild(n);var l=document.createElement("p");return l.innerHTML=e.comments,l.className="review-text",a.appendChild(l),a},fillBreadcrumb=function(){var e=arguments.length<=0||void 0===arguments[0]?self.restaurant:arguments[0],a=document.querySelector(".breadcrumb ol"),t=document.createElement("li");t.innerHTML=e.name,t.setAttribute("aria-current","page"),a.appendChild(t)},getParameterByName=function(e,a){a||(a=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var t=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(a);return t?t[2]?decodeURIComponent(t[2].replace(/\+/g," ")):"":null},loadGoogleMapsPreviewImage=function(e){var a=document.querySelector(".map-overlay"),t=document.querySelector(".map"),r=document.querySelector(".map-preview"),n=document.querySelector(".map-container");a.onclick=function(){a.style.display="none",a.parentNode.removeChild(a),t.style.display="block",self.map&&google.maps.event.addDomListenerOnce(self.map,"tilesloaded",function(){r.parentNode.removeChild(r),t.style.position="relative"})};window.getComputedStyle(t);var l=Math.trunc(window.innerWidth),s=n.offsetHeight,i="&markers=size:%7Ccolor:0xff0000%7Clabel:%7C"+e.latlng.lat+",+"+e.latlng.lng;r.src="https://maps.googleapis.com/maps/api/staticmap?center="+e.latlng.lat+",+"+e.latlng.lng+"&zoom=16&scale=1&size="+l+"x"+s+"&maptype=roadmap&format=jpg&visual_refresh=true"+i+"&key=AIzaSyD7U9qcVcdpFFnhE9Gj7fJ87TU6SbL0OoE "},loadRestaurantDataAndGenerateStaticGoogleMapsImageLink=function(){var e=getParameterByName("id");e?DBHelper.fetchRestaurantById(e,function(e,a){self.restaurant=a,a?(self.map&&DBHelper.mapMarkerForRestaurant(self.restaurant,self.map),fillRestaurantHTML(),fillBreadcrumb(),loadGoogleMapsPreviewImage(a)):console.error(e)}):error="No restaurant id in URL"},"loading"===document.readyState?document.addEventListener("DOMContentLoaded",function(e){loadRestaurantDataAndGenerateStaticGoogleMapsImageLink()}):loadRestaurantDataAndGenerateStaticGoogleMapsImageLink(),document.getElementById("gmaps-script-element").src="https://maps.googleapis.com/maps/api/js?key=AIzaSyD7U9qcVcdpFFnhE9Gj7fJ87TU6SbL0OoE &libraries=places&callback=initMap";
        </script>-->
        <!-- End scripts -->

    </body>

</html>
